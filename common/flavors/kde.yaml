{{- $distro := .distro -}}
{{- $suite := .suite -}}

{{- $architecture := .architecture -}}

architecture: {{ $architecture }}

actions:
  - action: apt
    description: Install KDE
    packages:
{{ if eq $distro "debian" }}
      - task-kde-desktop
{{ else }}
      - kubuntu-desktop
{{ end }}

  - action: apt
    description: Install additional KDE packages
    packages:
      - bluedevil
      - dragonplayer
      - kde-config-plymouth
      - kde-config-sddm
      - kde-config-screenlocker
      - kinfocenter
      - kio-extras
      - konqueror
      - kscreen
      - kwin-x11
      - phonon4qt5-backend-gstreamer
      - plasma-discover
      - plasma-nm
      - powerdevil
      - qml-module-org-kde-newstuff
      - sddm-theme-breeze
      - systemsettings
      - yakuake

  - action: recipe
    description: Install common desktop packages
    recipe: .desktop.yaml
    variables:
      distro: {{ $distro }}
      suite: {{ $suite }}
